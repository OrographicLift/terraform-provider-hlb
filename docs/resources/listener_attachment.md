---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "hlb_listener_attachment Resource - hlb"
subcategory: ""
description: |-
  Manages an HLB Listener Attachment
---

# hlb_listener_attachment (Resource)

Manages an HLB Listener Attachment

## Example Usage

```terraform
# Create a new HLB listener attachment
resource "hlb_listener_attachment" "front_end" {
  load_balancer_id        = hlb_load_balancer.example.id
  port                    = 443
  protocol                = "HTTPS"
  target_group_arn        = aws_lb_target_group.front_end.arn
  certificate_secrets_arn = "arn:aws:secretsmanager:us-west-2:123456789012:secret:my-certificate-secret-123abc"
  alpn_policy             = "HTTP2Preferred"
  overprovisioning_factor = 1.1 # Optional, defaults to 1.1
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `load_balancer_id` (String) The ID of the HLB load balancer to attach this listener to. This cannot be changed once the listener is created - you must create a new listener to move it to a different load balancer.
- `port` (Number) The port on which the load balancer is listening. Must be between 1 and 65535. Common ports:

* 80 - HTTP
* 443 - HTTPS

Note: The security groups associated with the load balancer must allow inbound traffic on this port.
- `protocol` (String) The protocol for connections from clients to the load balancer. Valid values:

* `HTTP` - For unencrypted HTTP traffic
* `HTTPS` - For encrypted HTTPS traffic. When using HTTPS, you must also specify a `certificate_secrets_name`

The protocol cannot be changed after the listener is created - you must create a new listener to change protocols.
- `target_group_arn` (String) The Amazon Resource Name (ARN) of the target group to route traffic to. The target group defines where traffic will be sent (the backend instances, IP addresses, or other resources) and how health checks are performed. The target group must be in the same region as the load balancer.

### Optional

- `alpn_policy` (String) The Application-Layer Protocol Negotiation (ALPN) policy to use. Valid values:

* `HTTP1Only` - Only allow HTTP/1.* connections
* `HTTP2Only` - Only allow HTTP/2 connections
* `HTTP2Optional` - Prefer HTTP/1.*, but allow HTTP/2 if client supports it
* `HTTP2Preferred` - Prefer HTTP/2, but allow HTTP/1.* if client doesn't support HTTP/2
* `None` - Do not use ALPN
- `certificate_secrets_name` (String) The name of the secret in AWS Secrets Manager containing the SSL server certificate. This field is required if the protocol is HTTPS. The secret should contain the certificate and private key in PEM format.
- `enable_deletion_protection` (Boolean) If true, deletion of the listener will be disabled via the API. This prevents accidental deletion of production listeners. You must set this to false and apply the change before you can delete the listener.
- `overprovisioning_factor` (Number) When the load balancer `enable_cross_zone_load_balancing` is set to `avoid` (default), this factor determines how much traffic a single instance can receive relative to the average. For example, with a value of `1.1`, an instance can receive up to 110% of the average traffic. This helps optimize resource usage while maintaining zone isolation. Must be greater than or equal to 1.0. Applies to the target group - behavior is undefined if different values are assigned to different listeners with the same target group.

### Read-Only

- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

```shell
# Listener attachment can be imported using its ID
terraform import hlb_listener_attachment.front_end lis-1234567890abcdef
```
